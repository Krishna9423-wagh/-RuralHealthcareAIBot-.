<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rural Healthcare AI Bot - Chat</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap');
    body {
      margin: 0; padding: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
      color: #e0e7ff;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }
    header {
      background: rgba(8,45,77,0.9);
      text-align: center;
      padding: 1.5rem;
      font-family: 'Courier New', monospace;
      font-size: 1.8rem;
      color: #00ffc8;
      text-shadow: 0 0 6px #00ffc8;
    }
    nav {
      text-align: center;
      margin: 1rem 0;
    }
    nav a {
      color: #00ffc8;
      margin: 0 0.8rem;
      text-decoration: none;
      font-weight: 600;
      font-size: 1.1rem;
      transition: color 0.3s ease;
    }
    nav a:hover {
      color: #00a68f;
      text-decoration: underline;
    }
    #chat-container {
      flex: 1;
      overflow-y: auto;
      padding: 1rem 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      background: rgba(8,45,77,0.8);
      border: 1px solid #00ffc8;
      margin: 1rem;
      border-radius: 12px;
    }
    .message {
      max-width: 70%;
      padding: 0.8rem 1.2rem;
      border-radius: 18px;
      font-size: 1rem;
      line-height: 1.3;
      box-shadow: 0 4px 8px rgba(0,255,200,0.15);
      word-wrap: break-word;
      user-select: text;
    }
    .bot {
      align-self: flex-start;
      background: #004d40;
    }
    .user {
      align-self: flex-end;
      background: #00a68f;
      color: #002f2f;
    }
    #input-area {
      display: flex;
      padding: 0 1rem 1rem;
      gap: 1rem;
      background: rgba(8, 45, 77, 0.9);
      align-items: center;
    }
    #msg-input {
      flex: 1;
      padding: 0.75rem 1rem;
      border-radius: 30px;
      border: none;
      font-size: 1rem;
      outline: none;
      font-family: 'Poppins', sans-serif;
    }
    #send-btn, #mic-btn {
      background: #00ffc8;
      border: none;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      cursor: pointer;
      color: #004d40;
      font-size: 1.4rem;
      box-shadow: 0 0 10px #00ffc8;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background 0.25s ease;
    }
    #send-btn:hover, #mic-btn:hover {
      background: #00a68f;
      box-shadow: 0 0 20px #00a68f;
    }
    /* Scrollbar */
    #chat-container::-webkit-scrollbar {
      width: 8px;
    }
    #chat-container::-webkit-scrollbar-thumb {
      background-color: #00ffc8;
      border-radius: 10px;
    }
  </style>
</head>
<body>

<header>Rural Healthcare AI Bot - Chat</header>

<nav>
  <a href="index.html">Home</a>
  <a href="chat.html">Chat</a>
  <a href="nearby.html">Nearby Hospitals</a>
  <a href="doctor-connect.html">Doctor Connect</a>
  <a href="language.html">Language</a>
</nav>

<div id="chat-container" aria-live="polite" aria-label="Chat messages">
  <div class="message bot">Hello, how can I assist you today with your health queries?</div>
</div>

<div id="input-area">
  <input id="msg-input" type="text" placeholder="Type your message..." aria-label="Type your message" />
  <button id="mic-btn" aria-label="Voice input"><i class="fas fa-microphone"></i></button>
  <button id="send-btn" aria-label="Send message"><i class="fas fa-paper-plane"></i></button>
</div>

<script>
  const chatContainer = document.getElementById('chat-container');
  const msgInput = document.getElementById('msg-input');
  const sendBtn = document.getElementById('send-btn');
  
  function appendMessage(content, sender) {
    const div = document.createElement('div');
    div.classList.add('message', sender);
    div.textContent = content;
    chatContainer.appendChild(div);
    chatContainer.scrollTop = chatContainer.scrollHeight;
  }
  
  function sendMessage() {
    const msg = msgInput.value.trim();
    if (!msg) return;
    appendMessage(msg, 'user');
    msgInput.value = '';
    // Simulated bot reply after 1s
    setTimeout(() => {
      appendMessage("Thank you for your message. We are here to help.", 'bot');
    }, 1000);
  }
  
  sendBtn.addEventListener('click', sendMessage);
  msgInput.addEventListener('keydown', e => {
    if (e.key === 'Enter') sendMessage();
  });

  // Voice input with Web Speech API (basic)
  const micBtn = document.getElementById('mic-btn');
  let recognition;
  if ('webkitSpeechRecognition' in window) {
    recognition = new webkitSpeechRecognition();
    recognition.lang = 'en-IN';
    recognition.continuous = false;
    recognition.interimResults = false;
    micBtn.onclick = () => {
      recognition.start();
    };
    recognition.onresult = event => {
      let transcript = event.results[0][0].transcript;
      msgInput.value = transcript;
      recognition.stop();
      msgInput.focus();
    };
    recognition.onerror = () => recognition.stop();
  } else {
    micBtn.disabled = true;
    micBtn.title = "Voice input not supported in this browser";
  }
</script>

</body>
</html>

